(()=>{var t={140:t=>{var e=function(){this.symbol_reactive=Symbol(),this._beforeMap=new WeakMap,this.effMap=new WeakMap,this.proxyMap=new WeakMap,this.targetMap=new WeakMap,this.currentEffect=null,console.log("init")};e.prototype.addBefore=function(t,e){let r=this._beforeMap.get(t);r||this._beforeMap.set(t,r=new Set),r.add(e)},e.prototype.track=function(t,e,r={}){if(t=this._2targetObj(t),this.currentEffect){let o=this.targetMap.get(t);o||this.targetMap.set(t,o=new Map);let f=o.get(e);f||o.set(e,f=new Set),r.before&&this.addBefore(t,r.before),this.effMap.set(this.currentEffect,this.currentEffect),f.add(this.currentEffect)}},e.prototype.trigger_before=function(t,e){t=this._2targetObj(t);let r=this._beforeMap.get(t);r&&r.forEach((t=>{t()}))},e.prototype.trigger=function(t,e){t=this._2targetObj(t);const r=this.targetMap.get(t);if(!r)return;let o=r.get(e);o&&o.forEach((t=>{t()}))},e.prototype.crecoieReactive=function(t){let e=this,r=new Proxy(t,{get(t,r,o){let f=Reflect.get(t,r,o);return e.track(t,r),f},set(t,r,o,f){let n=t[r];n!=o&&e.trigger_before(t,r);let i=Reflect.set(t,r,o,f);return i&&n!=o&&e.trigger(t,r),i}});return Reflect.ownKeys(t).forEach((o=>{let f=t[o];f&&"object"==typeof f&&!Array.isArray(f)&&e.effect((()=>{r[o]=f.ref[f.key]}))})),this.proxyMap.set(r,t),r},e.prototype.effect=function(t){return this.currentEffect=t,this.currentEffect(),this.currentEffect=null,t},e.prototype.ref=function(t=0){let e=this,r=t,o=t;const f={get value(){return e.track(f,"value"),r},set value(t){r!=t&&(r=t,e.trigger(f,"value"))},getOld:()=>o,setOld:()=>(o=r,o)};return f},e.prototype.computed=function(t){let e=this.ref();return this.effect((()=>e.value=t())),e},e.prototype.watch=function(t,e,r){this.currentEffect=e,Reflect.ownKeys(t).forEach((e=>{this.track(t,e,r?{before:r}:{})})),this.currentEffect=null},e.prototype._2targetObj=function(t){return this.proxyMap.get(t)?this.proxyMap.get(t):t},t.exports=e}},e={};!function r(o){if(e[o])return e[o].exports;var f=e[o]={exports:{}};return t[o](f,f.exports,r),f.exports}(140)})();